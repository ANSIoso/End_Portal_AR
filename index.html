<!DOCTYPE html>
<html>

<head>
    <link href="https://fonts.cdnfonts.com/css/minecraft-4" rel="stylesheet">
    <script src="https://kit.fontawesome.com/06d84ce8cf.js" crossorigin="anonymous"></script>

    <style>
        body {
            font-family: 'Minecraft', sans-serif;
        }

        @keyframes loadingFade {
            0% {
                opacity: 1;
            }

            50% {
                opacity: 0.2;
            }

            100% {
                opacity: 1;
            }
        }

        #loadingDiv>p {
            position: relative;

            font-size: xxx-large;

            display: flex;
            justify-content: center;
            align-items: center;

            animation: loadingFade 3s ease-in-out infinite;
        }

        #loadingDiv>i {
            font-size: 40vh;

            animation: loadingFade 3s ease-in-out infinite;
        }

        #loadingDiv {
            height: 100%;
            width: 100%;
            z-index: 9;
            background-color: rgba(51, 50, 50, 0.5);

            position: absolute 0;

            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;

            transition: opacity 0.5s ease-in;
        }
    </style>

</head>

<script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

<body style="margin: 0px; overflow: hidden;">
    <div id="loadingDiv">
        <i class="fa-solid fa-qrcode"></i>
        <p>inquadra il qr</p>
    </div>

    <audio id="markerAudio" src="./resources/minecraft end trim.mp3" preload="auto"></audio>

    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">
        <a-marker type="pattern" url="./qrcodes/pattern-portal.patt" id="portalMarker">
            <a-entity id="achievementbody" gltf-model="./resources/3d_models/achievement/scene.gltf" position="0 0 -2"
                scale="0.5 0.5 0.5" rotation="0 270 40">
            </a-entity>
            <a-entity id="portalbody" gltf-model="./resources/3d_models/end_portal/scene.gltf" position="0 0 0"
                rotation="0 90 0">
            </a-entity>
        </a-marker>

        <a-marker type="pattern" url="./qrcodes/pattern-figure.patt" id="figureMarker">
            <a-box position="0 0.5 0" material="color: red; transparent: true; opacity: 0.50;">
            </a-box>
        </a-marker>

        <a-entity camera></a-entity>
    </a-scene>

    <script src="./index.js"></script>
</body>

</html>